<mvc:View
    xmlns:semantic="sap.f.semantic"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f2="sap.f"
    xmlns:commons="sap.suite.ui.commons"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartVariantManagement="sap.ui.comp.smartvariants"
    xmlns:core="sap.ui.core"
    xmlns:mc="sap.ui.comp.smartmicrochart"
    xmlns:tnt="sap.tnt"
    controllerName="zmmvpi01.app.z20231228mmvpi01.controller.OverViewVendorInvoice"
    displayBlock="true"
    xmlns="sap.m"
>
    <semantic:SemanticPage
        id="overviewinvoicePage"
        preserveHeaderStateOnScroll="true"
        toggleHeaderOnTitleClick="false"
        showFooter="true"
    >
        <semantic:titleHeading>
            <Title
                id="masterPageTitle"
                text="Přehled faktur dodavatele"
                level="H2"
            />
        </semantic:titleHeading>
        <semantic:headerContent>
            <smartVariantManagement:SmartVariantManagement
                id="pageVariantIdInc"
                 persistencyKey="PageVariantPKey"
            />
            <smartFilterBar:SmartFilterBar
                id="smartFilterBarInc"
                initialized=".onSFBInitialized"
                smartVariant="pageVariantIdInc"
                entitySet="ZC_Invoice"
                persistencyKey="SmartFilterPKey"
            />
        </semantic:headerContent>
            <semantic:titleExpandedHeading />
        <semantic:titleExpandedContent>
            <Toolbar width="auto">
                <content>
                    <f2:Avatar
                        displaySize="XS"
                        displayShape="Circle"
                        src="sap-icon://person-placeholder"
                        backgroundColor="Accent6"
                    />
                    <!-- <f2:Avatar displaySize="{globalModelUserInfo>/Avatarsize}" displayShape="{globalModelUserInfo>/Avatarshape}" src="{globalModelUserInfo>/Avataricon}" backgroundColor="{globalModelUserInfo>/Avatarcolor}"/> -->

                    <!-- <Text text="{globalModelHelp>/sInfoLabel}"/> -->
                    <Text text="Uživatel: {globalModelUserInfo>/FullName}" />
                    <!-- <tnt:InfoLabel text="{path:'globalModelHelp>/sInfoLabel'}" renderMode="Loose" colorScheme="{path : 'globalModelAuthorization>/Colorlabel', formatter : '.formatter.colorlabel'}" displayOnly="true"/> -->
                    <ToolbarSpacer />
                </content>
            </Toolbar>
        </semantic:titleExpandedContent>
        <semantic:content>
            <VBox
                width="100%"
                direction="Column"
            >
                <items>
                    <smartTable:SmartTable
                        id="smartTableInc"
                        smartVariant="pageVariantIdInc"
                        entitySet="ZC_Invoice"
                        showFullScreenButton="true"
                        smartFilterId="smartFilterBarInc"
                        useExportToExcel="true"
                        beforeExport="onBeforeExport"
                        useVariantManagement="true"
                        useTablePersonalisation="true"
                        header="Seznam faktur"
                        showRowCount="true"
                        beforeRebindTable="onBind"
                        persistencyKey="SmartTableRefApp_Explored"
                        enableAutoBinding="false"
                        tableType="ResponsiveTable"
                        demandPopin="true"
                        paste="onPaste"
                    >
                        <!-- http://www.ut163.com/sapui5/docs/topics/bed8274140d04fc0b9bcb2db42d8bac2.html -->

                            <smartTable:customToolbar>
                                <OverflowToolbar design="Transparent">
                                    <ToolbarSpacer/>
                             
                                    <OverflowToolbarButton   text="Nová příloha" type="Emphasized"     icon="sap-icon://attachment" press=".onNewInvoiceAttachCreatePressed"/>
       
                                </OverflowToolbar>
                            </smartTable:customToolbar>
                        <Table
                            fixedLayout="false"
                            growing="true"
                            sticky="ColumnHeaders"
                            growingThreshold="20"
                        >
                       
                 
                             <columns>
                               <Column
                                    width="200px"
                                    hAlign="Begin"
                                >
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "Status", "maxLength": "30","columnIndex":"10",  "sortProperty": "Status",  "filterProperty": "Status", "leadingProperty": "Status"}'
                                        />
                                    </customData>
                                    <Text
                                        text="Status faktury "
                                        wrapping="false"
                                    />
                                </Column>

                                <!--  <Column
                                    width="150px"
                                    hAlign="Begin"
                                >
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "Incstat", "maxLength": "30","columnIndex":"1",  "sortProperty": "Incstat",  "filterProperty": "Incstat", "leadingProperty": "Incstat", "additionalProperty": "Icon,Statusicon,Incstatdes"}'
                                        />
                                    </customData>
                                    <Text
                                        text="Status Incidentu"
                                        wrapping="false"
                                    />
                                </Column>
                                <Column
                                    width="150px"
                                    hAlign="Begin"
                                >
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "Workcenter", "maxLength": "30","columnIndex":"2",  "sortProperty": "Workcenter",  "filterProperty": "Workcenter", "leadingProperty": "Workcenter"}'
                                        />
                                    </customData>
                                    <Text
                                        text="ID pracoviště"
                                        wrapping="false"
                                    />
                                </Column>
                                <Column
                                    width="150px"
                                    hAlign="Begin"
                                >
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "WorkCenterText", "maxLength": "30","columnIndex":"3",  "sortProperty": "WorkCenterText",  "filterProperty": "WorkCenterText", "leadingProperty": "WorkCenterText"}'
                                        />
                                    </customData>
                                    <Text
                                        text="Název pracoviště"
                                        wrapping="false"
                                    />
                                </Column>
                                <Column
                                    width="150px"
                                    hAlign="Begin"
                                >
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "Ernam", "maxLength": "30","columnIndex":"4",  "sortProperty": "Ernam",  "filterProperty": "Ernam", "leadingProperty": "Ernam"}'
                                        />
                                    </customData>
                                    <Text
                                        text="Založil"
                                        wrapping="false"
                                    />
                                </Column> -->
                            </columns> 

                            <items>
                                <ColumnListItem
                                    type="Active"
                                    press="onDetailVendorInvoice"
                                >
                                <cells>
            <commons:MicroProcessFlow>
				<commons:content>
					<commons:MicroProcessFlowItem state="None"/>
					<commons:MicroProcessFlowItem state="Error"/>
					<commons:MicroProcessFlowItem state="Warning"/>
					<commons:MicroProcessFlowItem state="Information"/>
					<commons:MicroProcessFlowItem state="Success"/>
				</commons:content>
			</commons:MicroProcessFlow>
                                        <!-- <Text
                                            text="{Idincident}"
                                            wrapping="false"
                                        />
                                        <ObjectStatus
                                            text="{Incstatdes}"
                                            inverted="true"
                                            icon="{Icon}"
                                            state="{Statusicon}"
                                        />
                                        <Text
                                            text="{Workcenter}"
                                            wrapping="false"
                                        />
                                        <Text
                                            text="{WorkCenterText}"
                                            wrapping="false"
                                        />
                                        <Text
                                            text="{Ernam}"
                                            wrapping="false"
                                        /> -->
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </smartTable:SmartTable>
                </items>
            </VBox>
        </semantic:content>
        <semantic:messagesIndicator>
            <semantic:MessagesIndicator
                visible="{=${message>/}.length &gt; 0}"
                press="onMessagePopoverPress"
                tooltip="{i18n>messages}"
            />
        </semantic:messagesIndicator>
    
    </semantic:SemanticPage>
</mvc:View>
