<mvc:View
    xmlns:semantic="sap.f.semantic"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f2="sap.f"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartVariantManagement="sap.ui.comp.smartvariants"
    xmlns:core="sap.ui.core"
    xmlns:mc="sap.ui.comp.smartmicrochart"
    xmlns:tnt="sap.tnt"
    xmlns:form="sap.ui.layout.form"
    controllerName="zmmvpi01.app.z20231228mmvpi01.controller.CreateVendorInvoice"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:upload="sap.m.upload"
>
    <semantic:SemanticPage
        id="createVendorInvoicePage"
        busy="{createVendorInvoiceViewModel>/busy}"
        busyIndicatorDelay="0"
        showFooter="true"
    >
        <semantic:titleHeading>
            <Title
                text="Nová faktura"
                level="H2"
            />
        </semantic:titleHeading>
        <semantic:titleExpandedContent>
            <!-- <Toolbar width="auto" /> -->
        </semantic:titleExpandedContent>
        <semantic:headerContent />
        <!--Semantic ShareMenu Buttons-->
        <semantic:sendEmailAction>
            <!-- <semantic:SendEmailAction id="shareEmail" press=".onSendEmailPress"/> -->
        </semantic:sendEmailAction>

        <semantic:closeAction>
            <semantic:CloseAction
                id="closeColumn"
                press=".onCloseCreateVendorInvoicePress"
            />
        </semantic:closeAction>
        <semantic:content>
            <VBox height="100%">
                <form:SimpleForm
                    editable="true"
                    layout="ColumnLayout"
                    columnsL="1"
                    emptySpanL="6"
                    labelSpanL="3"
                >
                    <Label
                        required="true"
                        text="Datum"
                    />
                    <DatePicker
                        minDate="{ path:'createRequestBudgetViewModel>/minDate'}"
                        maxDate="{ path:'createRequestBudgetViewModel>/maxDate'}"
                        value="{path:'newRequestModel>/ValidFrm', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true, UTC: true}}"
                        valueFormat="yyyy-MM-dd"
                        change=".onLiveChangeForDate($event,'/ValidFrm')"
                        required="true"
                    />

                    <form:content />
                </form:SimpleForm>
                <upload:UploadSet
                    id="UploadSet"
                    instantUpload="true"
                    showIcons="true"
                    uploadEnabled="true"
                    terminationEnabled="true"
                    fileTypes="txt,doc,png"
                    maxFileNameLength="30"
                    maxFileSize="200"
                    mediaTypes="text/plain,application/msword,image/jpeg"
                    uploadUrl="../../../../upload"
                    items="{path: '/items', templateShareable: false}"
                >
                    <upload:toolbar>
                        <OverflowToolbar>
                            <Button
                                id="uploadSelectedButton"
                                text="Upload selected"
                                press="onUploadSelectedButton"
                            />
                            <Button
                                id="downloadSelectedButton"
                                text="Download selected"
                                press="onDownloadSelectedButton"
                            />
                        </OverflowToolbar>
                    </upload:toolbar>
                    <upload:items>
                        <upload:UploadSetItem
                            fileName="{fileName}"
                            mediaType="{mediaType}"
                            url="{url}"
                            thumbnailUrl="{thumbnailUrl}"
                            uploadState="{uploadState}"
                        >
                            <!-- attributes="{path: 'attributes', templateShareable: false}"
                            markers="{path: 'markers', templateShareable: false}"
                            statuses="{path: 'statuses', templateShareable: false}" -->
                            <!-- <upload:attributes>
                                <ObjectAttribute
                                    title="{title}"
                                    text="{text}"
                                    active="{active}"
                                />
                            </upload:attributes>
                            <upload:markers>
                                <ObjectMarker
                                    type="{type}"
                                    visibility="{visibility}"
                                />
                            </upload:markers>
                            <upload:statuses>
                                <ObjectStatus
                                    title="{title}"
                                    text="{text}"
                                    state="{state}"
                                    icon="{icon}"
                                    active="{active}"
                                />
                            </upload:statuses> -->
                        </upload:UploadSetItem>
                    </upload:items>
                </upload:UploadSet>
            </VBox>
        </semantic:content>
        <semantic:messagesIndicator>
            <semantic:MessagesIndicator
                visible="{=${message>/}.length &gt; 0}"
                press="onMessagePopoverPress"
                tooltip="{i18n>messages}"
            />
        </semantic:messagesIndicator>
        <semantic:positiveAction>
            <semantic:PositiveAction
                text="Uložit změny"
                press=".onSaveIncidentChange"
                enabled="{incidentUserAuth>/Editinc}"
                visible="{detailVendorInvoiceViewModel>/bSaveIncidentVIS}"
            />
        </semantic:positiveAction>
    </semantic:SemanticPage>
</mvc:View>
